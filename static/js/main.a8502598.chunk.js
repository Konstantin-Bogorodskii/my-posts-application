(this["webpackJsonpfundamental-course"]=this["webpackJsonpfundamental-course"]||[]).push([[0],{21:function(t,e,n){t.exports={modal:"MyModal_modal__3V2Yx",content:"MyModal_content__2kUlH",active:"MyModal_active__XQ7iY"}},22:function(t,e,n){t.exports={title:"PostIdPage_title__1amj3",post:"PostIdPage_post__1nK3O",comms:"PostIdPage_comms__1a3DT"}},27:function(t,e,n){},36:function(t,e,n){t.exports={btn:"MyButton_btn__jiyKK"}},41:function(t,e,n){t.exports={input:"MyInput_input__14c5b"}},42:function(t,e,n){t.exports={loading:"Loader_loading__11vql",rotate:"Loader_rotate__1qMkv"}},74:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(15),s=n.n(a),o=n(7),i=n(14),u=Object(c.createContext)(null),l=n(5),j=n(43),b=n(36),d=n.n(b),p=n(1),O=["children"];var h=function(t){var e=t.children,n=Object(j.a)(t,O);return Object(p.jsx)("button",Object(l.a)(Object(l.a)({},n),{},{className:d.a.btn,children:e}))},x=function(){var t=Object(c.useContext)(u).setIsAuth;return Object(p.jsxs)("div",{className:"navbar",children:[Object(p.jsx)(h,{onClick:function(){t(!1),localStorage.removeItem("auth")},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(p.jsxs)("div",{className:"navbar__links",children:[Object(p.jsx)(i.b,{to:"/about",children:"\u041e \u0441\u0430\u0439\u0442\u0435"}),Object(p.jsx)(i.b,{to:"/posts",children:"\u041f\u043e\u0441\u0442\u044b"})]})]})},f=(n(27),function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u0430\u0439\u0442\u0430!"})})}),v=n(6),m=n.n(v),g=n(12),y=n(19),_=n(39),k=n(40),C=n(20),w=n.n(C),P=function(){function t(){Object(_.a)(this,t)}return Object(k.a)(t,null,[{key:"getAll",value:function(){var t=Object(g.a)(m.a.mark((function t(){var e,n,c,r=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:10,n=r.length>1&&void 0!==r[1]?r[1]:1,t.next=4,w.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:e,_page:n}});case 4:return c=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=Object(g.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://jsonplaceholder.typicode.com/posts/"+e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getComments",value:function(){var t=Object(g.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),S=n(41),N=n.n(S),I=function(t){return Object(p.jsx)("input",Object(l.a)({className:N.a.input},t))},M=function(t){var e=t.options,n=t.defaultValue,c=t.value,r=t.onChangeSort;return Object(p.jsxs)("select",{onChange:function(t){return r(t.target.value)},value:c,children:[Object(p.jsx)("option",{disabled:!0,value:"",children:n}),e.map((function(t){return Object(p.jsx)("option",{value:t.value,children:t.name},t.value)}))]})},A=function(t){var e=t.filter,n=t.setFilter;return Object(p.jsxs)("div",{children:[Object(p.jsx)(I,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",value:e.query,onChange:function(t){return n(Object(l.a)(Object(l.a)({},e),{},{query:t.target.value}))}}),Object(p.jsx)(M,{value:e.sort,onChangeSort:function(t){return n(Object(l.a)(Object(l.a)({},e),{},{sort:t}))},defaultValue:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e",options:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"body",name:"\u041f\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e"}]})]})},q=r.a.memo(A),V=function(t){var e=t.createPost,n=Object(c.useState)({title:"",body:""}),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(p.jsxs)("form",{children:[Object(p.jsx)(I,{onChange:function(t){return s(Object(l.a)(Object(l.a)({},a),{},{title:t.target.value}))},value:a.title,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)(I,{value:a.body,onChange:function(t){return s(Object(l.a)(Object(l.a)({},a),{},{body:t.target.value}))},type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)(h,{onClick:function(t){t.preventDefault();var n=Object(l.a)(Object(l.a)({},a),{},{id:Date.now()});e(n),s({title:"",body:""})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u041f\u043e\u0441\u0442"})]})},B=n(2);var D=function(t){var e=Object(B.g)();return Object(p.jsxs)("div",{className:"post",children:[Object(p.jsxs)("div",{className:"post__content",children:[Object(p.jsxs)("strong",{children:[t.post.id,". ",t.post.title]}),Object(p.jsx)("div",{children:t.post.body})]}),Object(p.jsxs)("div",{className:"post__btns",children:[Object(p.jsx)(h,{onClick:function(){return e.push("/posts/".concat(t.post.id))},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),Object(p.jsx)(h,{onClick:function(){return t.deletePost(t.post)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},E=n(77),T=n(76);var J=function(t){var e=t.posts,n=t.title,c=t.deletePost;return e.length?Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{style:{textAlign:"center",color:"lightblue"},children:n}),Object(p.jsx)(E.a,{children:e.map((function(t,e){return Object(p.jsx)(T.a,{timeout:{enter:500,exit:500},classNames:"post",children:Object(p.jsx)(D,{deletePost:c,post:t,number:e+1})},t.id)}))})]}):Object(p.jsx)("h1",{style:{textAlign:"center",color:"lightblue"},children:"\u041f\u043e\u0441\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b!"})},K=function(t,e,n){var r=function(t,e){return Object(c.useMemo)((function(){return e?Object(y.a)(t).sort((function(t,n){return t[e].localeCompare(n[e])})):t}),[t,e])}(t,e);return Object(c.useMemo)((function(){return r.filter((function(t){return t.title.toLowerCase().includes(n)}))}),[n,r])},L=n(42),F=n.n(L),Y=function(){return Object(p.jsx)("div",{className:F.a.loading})},H=n(21),Q=n.n(H),U=function(t){var e=t.children,n=t.visible,c=t.setVisible,r=[Q.a.modal];return n&&r.push(Q.a.active),Object(p.jsx)("div",{className:r.join(" "),onClick:function(){return c(!1)},children:Object(p.jsx)("div",{className:Q.a.content,onClick:function(t){return t.stopPropagation()},children:e})})},X=function(t){for(var e=t.page,n=t.changePage,c=t.totalPages,r=[],a=0;a<c;a++)r.push(a+1);return Object(p.jsx)("div",{className:"page__wrapper",children:r.map((function(t){return Object(p.jsx)("span",{onClick:function(){return n(t)},className:e===t?"page page--active":"page",children:t},t)}))})},z=function(t,e){return Math.ceil(t/e)};var G=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)({sort:"",query:""}),s=Object(o.a)(a,2),i=s[0],u=s[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),b=j[0],d=j[1],O=K(n,i.sort,i.query),x=Object(c.useState)(!1),f=Object(o.a)(x,2),v=f[0],_=f[1],k=Object(c.useState)(0),C=Object(o.a)(k,2),w=C[0],S=C[1],N=Object(c.useState)(1),I=Object(o.a)(N,2),M=I[0],A=I[1],B=Object(c.useState)(10),D=Object(o.a)(B,2),E=D[0];function T(){return(T=Object(g.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("rend"),_(!0),setTimeout(Object(g.a)(m.a.mark((function t(){var e,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getAll(E,M);case 2:e=t.sent,r(e.data),n=e.headers["x-total-count"],S(z(n,E)),_(!1);case 7:case"end":return t.stop()}}),t)}))),1e3);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return D[1],Object(c.useEffect)((function(){!function(){T.apply(this,arguments)}()}),[M]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(h,{style:{marginTop:"20px"},onClick:function(){return d(!0)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(p.jsx)(U,{visible:b,setVisible:d,children:Object(p.jsx)(V,{createPost:function(t){r([].concat(Object(y.a)(n),[t])),d(!1)}})}),Object(p.jsx)("hr",{style:{margin:"15px 0"}}),Object(p.jsx)(q,{filter:i,setFilter:u}),v?Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)(Y,{})}):Object(p.jsx)(J,{posts:O,title:"\u041f\u043e\u0441\u0442\u044b \u043f\u0440\u043e JS",deletePost:function(t){r(n.filter((function(e){return e.id!==t.id})))}}),Object(p.jsx)(X,{page:M,totalPages:w,changePage:function(t){A(t)}})]})},R=function(){var t=Object(c.useContext)(u).setIsAuth;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(!0),localStorage.setItem("auth","true")},children:[Object(p.jsx)(I,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}),Object(p.jsx)(I,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(p.jsx)(h,{children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},W=n(22),Z=n.n(W),$=[{path:"/about",component:f,exact:!1},{path:"/posts",component:G,exact:!0},{path:"/posts/:id",component:function(){var t=Object(B.h)(),e=Object(c.useState)({}),n=Object(o.a)(e,2),r=n[0],a=n[1],s=Object(c.useState)([]),i=Object(o.a)(s,2),u=i[0],l=i[1],j=function(){var t=Object(g.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getById(e);case 2:n=t.sent,a(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(g.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getComments(e);case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){j(t.id),b(t.id)}),[t.id]),Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{className:Z.a.title,children:["\u0412\u044b \u043e\u0442\u043a\u0440\u044b\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043f\u043e\u0441\u0442\u0430 \u2116",t.id]}),Object(p.jsxs)("div",{children:[Object.keys(r).length>0?Object(p.jsxs)("div",{className:Z.a.post,children:[r.id,". ",r.title]}):Object(p.jsx)(Y,{}),Object(p.jsx)("h2",{className:Z.a.comms,children:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438:"}),Object(p.jsx)("div",{children:u.length>0?Object(p.jsx)("div",{children:u.map((function(t){return Object(p.jsxs)("ul",{style:{marginTop:"15px"},children:[Object(p.jsx)("h5",{children:t.email}),Object(p.jsx)("li",{children:t.body})]},t.id)}))}):Object(p.jsx)(Y,{})})]})]})},exact:!1}],tt=[{path:"/login",component:R,exact:!0}],et=function(){return Object(c.useContext)(u).isAuth?Object(p.jsxs)(B.d,{children:[$.map((function(t){return Object(p.jsx)(B.b,{path:t.path,component:t.component,exact:t.exact},t.path)})),Object(p.jsx)(B.a,{to:"/posts"})]}):Object(p.jsxs)(B.d,{children:[tt.map((function(t){return Object(p.jsx)(B.b,{path:t.path,component:t.component,exact:t.exact},t.path)})),Object(p.jsx)(B.a,{to:"/login"})]})};var nt=function(){var t=Object(c.useState)(!1),e=Object(o.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&r(!0)}),[]),Object(p.jsx)(u.Provider,{value:{isAuth:n,setIsAuth:r},children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(et,{})]})})};s.a.render(Object(p.jsx)(nt,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.a8502598.chunk.js.map
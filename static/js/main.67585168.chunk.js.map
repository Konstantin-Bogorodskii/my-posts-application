{"version":3,"sources":["pages/PostIdPage.module.css","UI/MyModal/MyModal.module.css","UI/button/MyButton.module.css","UI/input/MyInput.module.css","UI/Loader/Loader.module.css","context/AuthContext.jsx","UI/button/MyButton.jsx","UI/navbar/Navbar.jsx","pages/About.jsx","API/PostServise.jsx","UI/input/MyInput.jsx","UI/select/MySelect.jsx","components/PostFilter.jsx","components/PostForm.jsx","components/Post.jsx","components/PostList.jsx","hooks/usePosts.jsx","UI/Loader/Loader.jsx","UI/MyModal/MyModal.jsx","UI/pagination/Pagination.jsx","utils/getPagesCount.js","pages/Posts.jsx","pages/Login.jsx","router/router.jsx","pages/PostIdPage.jsx","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","MyButton","children","props","className","classes","btn","Navbar","setIsAuth","useContext","onClick","localStorage","removeItem","style","order","to","About","PostService","limit","page","axios","get","params","_limit","_page","response","id","MyInput","input","MySelect","options","defaultValue","value","onChangeSort","onChange","e","target","disabled","map","option","name","PostFilter","filter","setFilter","placeholder","query","sort","selectedSort","React","memo","PostForm","createPost","useState","title","body","post","setPost","type","preventDefault","newPost","Date","now","Post","router","useHistory","push","deletePost","PostList","posts","length","textAlign","color","margin","TransitionGroup","index","CSSTransition","timeout","enter","exit","classNames","number","usePosts","sortedPosts","useMemo","a","b","localeCompare","useSortedPosts","toLowerCase","includes","Loader","loading","MyModal","visible","setVisible","modalClasses","modal","active","join","content","stopPropagation","Pagination","changePage","totalPages","pagesArray","i","p","getPagesCount","totalCount","Math","ceil","Posts","setPosts","sortedAndSearchedPosts","isPostsLoading","setIsPostsLoading","setTotalPages","setPage","console","log","setTimeout","getAll","data","headers","useEffect","fetchPosts","marginTop","display","justifyContent","Login","onSubmit","setItem","privateRoutes","path","component","exact","useParams","comments","setComments","fetchPost","getById","fetchComments","getComments","wrap","Object","keys","comms","marginLeft","comment","email","publicRoutes","AppRouter","isAuth","route","App","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.67585168.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PostIdPage_title__1amj3\",\"post\":\"PostIdPage_post__1nK3O\",\"comms\":\"PostIdPage_comms__1a3DT\",\"wrap\":\"PostIdPage_wrap__3jGCI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"MyModal_modal__3V2Yx\",\"content\":\"MyModal_content__2kUlH\",\"active\":\"MyModal_active__XQ7iY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MyButton_btn__jiyKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"MyInput_input__14c5b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loader_loading__11vql\",\"rotate\":\"Loader_rotate__1qMkv\"};","import { createContext } from 'react';\r\n\r\nexport const AuthContext = createContext(null);\r\n","import React from 'react';\r\nimport classes from './MyButton.module.css';\r\n\r\nfunction MyButton({ children, ...props }) {\r\n  return (\r\n    <button {...props} className={classes.btn}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default MyButton;\r\n","import { AuthContext } from '../../context/AuthContext';\r\nimport React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MyButton from '../button/MyButton';\r\n\r\nconst Navbar = () => {\r\n  const { setIsAuth } = useContext(AuthContext);\r\n  const logout = () => {\r\n    setIsAuth(false);\r\n    localStorage.removeItem('auth');\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <MyButton onClick={logout} style={{ order: 1 }}>\r\n        Выйти\r\n      </MyButton>\r\n      <div className=\"navbar__links\">\r\n        <Link to=\"/about\">О сайте</Link>\r\n        <Link to=\"/posts\">Посты</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      <h1>Главная страница сайта!</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import axios from 'axios';\r\n\r\nexport default class PostService {\r\n  static async getAll(limit = 10, page = 1) {\r\n    const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n      params: {\r\n        _limit: limit,\r\n        _page: page,\r\n      },\r\n    });\r\n    return response;\r\n  }\r\n\r\n  static async getById(id) {\r\n    const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id);\r\n    return response;\r\n  }\r\n\r\n  static async getComments(id) {\r\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n    return response;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport classes from './MyInput.module.css';\r\n\r\nconst MyInput = props => {\r\n  return <input className={classes.input} {...props} />;\r\n};\r\n\r\nexport default MyInput;\r\n","import React from 'react';\r\n\r\nconst MySelect = ({ options, defaultValue, value, onChangeSort }) => {\r\n  return (\r\n    <select onChange={e => onChangeSort(e.target.value)} value={value}>\r\n      <option disabled={true} value=\"\">\r\n        {defaultValue}\r\n      </option>\r\n      {options.map(option => {\r\n        return (\r\n          <option key={option.value} value={option.value}>\r\n            {option.name}\r\n          </option>\r\n        );\r\n      })}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default MySelect;\r\n","import React from 'react';\r\nimport MyInput from '../UI/input/MyInput';\r\nimport MySelect from '../UI/select/MySelect';\r\n\r\nconst PostFilter = ({ filter, setFilter }) => {\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        placeholder=\"Поиск...\"\r\n        value={filter.query}\r\n        onChange={e => setFilter({ ...filter, query: e.target.value })}\r\n      />\r\n      <MySelect\r\n        value={filter.sort}\r\n        onChangeSort={selectedSort => setFilter({ ...filter, sort: selectedSort })}\r\n        defaultValue=\"Сортировать по\"\r\n        options={[\r\n          { value: 'title', name: 'По названию' },\r\n          { value: 'body', name: 'По описанию' },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(PostFilter);\r\n","import React, { useState } from 'react';\r\nimport MyInput from '../UI/input/MyInput';\r\nimport MyButton from '../UI/button/MyButton';\r\n\r\nconst PostForm = ({ createPost }) => {\r\n  const [post, setPost] = useState({\r\n    title: '',\r\n    body: '',\r\n  });\r\n\r\n  const addNewPost = e => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      ...post,\r\n      id: Date.now(),\r\n    };\r\n\r\n    createPost(newPost);\r\n\r\n    setPost({\r\n      title: '',\r\n      body: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form>\r\n      <MyInput\r\n        onChange={e => setPost({ ...post, title: e.target.value })}\r\n        value={post.title}\r\n        type=\"text\"\r\n        placeholder=\"Название поста\"\r\n      />\r\n      <MyInput\r\n        value={post.body}\r\n        onChange={e => setPost({ ...post, body: e.target.value })}\r\n        type=\"text\"\r\n        placeholder=\"Описание поста\"\r\n      />\r\n      <MyButton onClick={addNewPost}>Добавить Пост</MyButton>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React from 'react';\r\nimport MyButton from '../UI/button/MyButton';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Post(props) {\r\n  const router = useHistory();\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__content\">\r\n        <strong>\r\n          {props.post.id}. {props.post.title}\r\n        </strong>\r\n        <div>{props.post.body}</div>\r\n      </div>\r\n      <div className=\"post__btns\">\r\n        <MyButton onClick={() => router.push(`/posts/${props.post.id}`)}>Открыть</MyButton>\r\n        <MyButton onClick={() => props.deletePost(props.post)}>Удалить</MyButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport Post from './Post';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nfunction PostList({ posts, title, deletePost }) {\r\n  if (!posts.length) {\r\n    return <h1 style={{ textAlign: 'center', color: 'lightblue' }}>Посты не найдены!</h1>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ textAlign: 'center', color: 'lightblue', margin: '15px 0' }}>{title}</h1>\r\n      <TransitionGroup>\r\n        {posts.map((post, index) => {\r\n          return (\r\n            <CSSTransition key={post.id} timeout={{ enter: 500, exit: 500 }} classNames=\"post\">\r\n              <Post deletePost={deletePost} post={post} number={index + 1} />\r\n            </CSSTransition>\r\n          );\r\n        })}\r\n      </TransitionGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostList;\r\n","import { useMemo } from 'react';\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if (sort) {\r\n      return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]));\r\n    } else {\r\n      return posts;\r\n    }\r\n  }, [posts, sort]);\r\n\r\n  return sortedPosts;\r\n};\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n  const sortedPosts = useSortedPosts(posts, sort);\r\n\r\n  const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter(post => post.title.toLowerCase().includes(query));\r\n  }, [query, sortedPosts]);\r\n\r\n  return sortedAndSearchedPosts;\r\n};\r\n","import React from 'react';\r\nimport classes from './Loader.module.css';\r\n\r\nexport const Loader = () => {\r\n  return <div className={classes.loading}></div>;\r\n};\r\n","import React from 'react';\r\nimport classes from './MyModal.module.css';\r\n\r\nconst MyModal = ({ children, visible, setVisible }) => {\r\n  const modalClasses = [classes.modal];\r\n\r\n  if (visible) {\r\n    modalClasses.push(classes.active);\r\n  }\r\n\r\n  return (\r\n    <div className={modalClasses.join(' ')} onClick={() => setVisible(false)}>\r\n      <div className={classes.content} onClick={e => e.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyModal;\r\n","import React from 'react';\r\n\r\nconst Pagination = ({ page, changePage, totalPages }) => {\r\n  let pagesArray = [];\r\n\r\n  for (let i = 0; i < totalPages; i++) {\r\n    pagesArray.push(i + 1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"page__wrapper\">\r\n      {pagesArray.map(p => {\r\n        return (\r\n          <span\r\n            onClick={() => changePage(p)}\r\n            className={page === p ? 'page page--active' : 'page'}\r\n            key={p}\r\n          >\r\n            {p}\r\n          </span>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","export const getPagesCount = (totalCount, limit) => {\r\n  return Math.ceil(totalCount / limit);\r\n};\r\n","import PostService from '../API/PostServise';\r\nimport PostFilter from '../components/PostFilter';\r\nimport PostForm from '../components/PostForm';\r\nimport PostList from '../components/PostList';\r\nimport { usePosts } from '../hooks/usePosts';\r\nimport React, { useState, useEffect } from 'react';\r\nimport MyButton from '../UI/button/MyButton';\r\nimport { Loader } from '../UI/Loader/Loader';\r\nimport MyModal from '../UI/MyModal/MyModal';\r\nimport Pagination from '../UI/pagination/Pagination';\r\nimport { getPagesCount } from '../utils/getPagesCount';\r\nimport '../styles/App.css';\r\n\r\nfunction Posts() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  const [filter, setFilter] = useState({ sort: '', query: '' });\r\n  const [visible, setVisible] = useState(false);\r\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\r\n  const [isPostsLoading, setIsPostsLoading] = useState(false);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n\r\n  function createPost(newPost) {\r\n    setPosts([...posts, newPost]);\r\n    setVisible(false);\r\n  }\r\n\r\n  function deletePost(post) {\r\n    setPosts(posts.filter(p => p.id !== post.id));\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, [page]);\r\n\r\n  async function fetchPosts() {\r\n    console.log('rend');\r\n    setIsPostsLoading(true);\r\n    setTimeout(async () => {\r\n      const response = await PostService.getAll(limit, page);\r\n      setPosts(response.data);\r\n\r\n      const totalCount = response.headers['x-total-count'];\r\n      setTotalPages(getPagesCount(totalCount, limit));\r\n\r\n      setIsPostsLoading(false);\r\n    }, 1000);\r\n  }\r\n\r\n  const changePage = page => {\r\n    setPage(page);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <MyButton style={{ marginTop: '20px' }} onClick={() => setVisible(true)}>\r\n        Создать пост\r\n      </MyButton>\r\n      <MyModal visible={visible} setVisible={setVisible}>\r\n        <PostForm createPost={createPost} />\r\n      </MyModal>\r\n\r\n      <hr style={{ margin: '15px 0' }} />\r\n      <PostFilter filter={filter} setFilter={setFilter} />\r\n      {isPostsLoading ? (\r\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n          <Loader />\r\n        </div>\r\n      ) : (\r\n        <PostList posts={sortedAndSearchedPosts} title=\"Посты про JS\" deletePost={deletePost} />\r\n      )}\r\n\r\n      <Pagination page={page} totalPages={totalPages} changePage={changePage} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n","import { AuthContext } from '../context/AuthContext';\r\nimport React, { useContext } from 'react';\r\nimport MyButton from '../UI/button/MyButton';\r\nimport MyInput from '../UI/input/MyInput';\r\n\r\nconst Login = () => {\r\n  const { setIsAuth } = useContext(AuthContext);\r\n\r\n  const submit = e => {\r\n    e.preventDefault();\r\n    setIsAuth(true);\r\n    localStorage.setItem('auth', 'true');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Страница для входа</h1>\r\n      <form onSubmit={submit}>\r\n        <MyInput type=\"text\" placeholder=\"Введите логин\" />\r\n        <MyInput type=\"password\" placeholder=\"Введите пароль\" />\r\n        <MyButton>Войти</MyButton>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Login from '../pages/Login';\r\nimport About from '../pages/About';\r\nimport PostIdPage from '../pages/PostIdPage';\r\nimport Posts from '../pages/Posts';\r\n\r\nexport const privateRoutes = [\r\n  { path: '/about', component: About, exact: false },\r\n  { path: '/posts', component: Posts, exact: true },\r\n  { path: '/posts/:id', component: PostIdPage, exact: false },\r\n];\r\n\r\nexport const publicRoutes = [{ path: '/login', component: Login, exact: true }];\r\n","// @ts-nocheck\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport PostService from '../API/PostServise';\r\nimport { Loader } from '../UI/Loader/Loader';\r\nimport classes from './PostIdPage.module.css';\r\n\r\nconst PostIdPage = () => {\r\n  const params = useParams();\r\n  const [post, setPost] = useState({});\r\n  const [comments, setComments] = useState([]);\r\n\r\n  const fetchPost = async id => {\r\n    const response = await PostService.getById(id);\r\n    setPost(response.data);\r\n  };\r\n\r\n  const fetchComments = async id => {\r\n    const response = await PostService.getComments(id);\r\n    setComments(response.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPost(params.id);\r\n    fetchComments(params.id);\r\n  }, [params.id]);\r\n\r\n  return (\r\n    <div className={classes.wrap}>\r\n      <h1 className={classes.title}>Вы открыли страницу поста №{params.id}</h1>\r\n      <div>\r\n        {Object.keys(post).length > 0 ? (\r\n          <div className={classes.post}>\r\n            {post.id}. {post.title}\r\n          </div>\r\n        ) : (\r\n          <Loader />\r\n        )}\r\n\r\n        <h2 className={classes.comms}>Коментарии:</h2>\r\n        <div>\r\n          {comments.length > 0 ? (\r\n            <ul style={{ marginLeft: '20px' }}>\r\n              {comments.map(comment => {\r\n                return (\r\n                  <li key={comment.id} style={{ marginTop: '15px' }}>\r\n                    <h5>{comment.email}</h5>\r\n                    <div>{comment.body}</div>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostIdPage;\r\n","import About from '../pages/About';\r\nimport Posts from '../pages/Posts';\r\nimport Login from '../pages/Login';\r\nimport React, { useContext } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router';\r\nimport PostIdPage from '../pages/PostIdPage';\r\nimport { privateRoutes, publicRoutes } from '../router/router';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst AppRouter = () => {\r\n  const { isAuth } = useContext(AuthContext);\r\n\r\n  return isAuth ? (\r\n    <Switch>\r\n      {privateRoutes.map(route => {\r\n        return (\r\n          <Route\r\n            key={route.path}\r\n            path={route.path}\r\n            component={route.component}\r\n            exact={route.exact}\r\n          />\r\n        );\r\n      })}\r\n\r\n      <Redirect to=\"/posts\" />\r\n    </Switch>\r\n  ) : (\r\n    <Switch>\r\n      {publicRoutes.map(route => {\r\n        return (\r\n          <Route\r\n            key={route.path}\r\n            path={route.path}\r\n            component={route.component}\r\n            exact={route.exact}\r\n          />\r\n        );\r\n      })}\r\n\r\n      <Redirect to=\"/login\" />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Navbar from './UI/navbar/Navbar';\n\nimport './styles/App.css';\nimport AppRouter from './components/AppRouter';\nimport { AuthContext } from './context/AuthContext';\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem('auth')) {\n      setIsAuth(true);\n    }\n  }, []);\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuth,\n        setIsAuth,\n      }}\n    >\n      <BrowserRouter>\n        <Navbar />\n        <AppRouter />\n      </BrowserRouter>\n    </AuthContext.Provider>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}